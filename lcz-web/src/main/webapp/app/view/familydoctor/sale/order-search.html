<div ng-controller="OrderSearchController">

    <table-box jy-page-data="pageData" jy-query-params="param" jyf-query="queryList()" jy-execute-query="executeQuery">
        <div class="search-panel">
            <div class="search-panel-box">
                <div class="form-box">
                    <label class="form-label">用户姓名：</label>
                    <input type="text" class="form-control w200" ng-model="param.userName" placeholder="请输入姓名"/>
                </div>
                <div class="form-box">
                    <label class="form-label">手机号：</label>
                    <input type="text" class="form-control w200" ng-model="param.mobile" placeholder="请输入手机号"/>
                </div>
                <div class="form-box">
                    <label class="form-label">订单号：</label>
                    <input type="text" class="form-control w200" ng-model="param.no" placeholder="请输入订单号"/>
                </div>
            </div>
        </div>
        <div style="width: calc(100% - 150px);float: right;">
            <div class="head-box">
                <table>
                    <tr>
                        <th width="204">
                            <strong>微信订单号</strong>
                        </th>
                        <th width="120">
                            <strong>卡号</strong>
                        </th>
                        <th width="100">
                            <strong>卡面值</strong>
                        </th>
                        <th width="120">
                            <strong>购买日期</strong>
                        </th>
                        <th width="120">
                            <strong>购买人</strong>
                        </th>
                        <th width="150">
                            <strong>销售门店</strong>
                        </th>

                    </tr>
                </table>
            </div>
            <div class="body-box">
                <table>
                    <tr ng-repeat="item in pageData.content track by $index">
                        <td>
                            <td-limit-span jy-text="item.no"></td-limit-span>
                        </td>
                        <td>
                            <td-limit-span jy-text="item.cardNo"></td-limit-span>
                        </td>
                        <td>
                            {{item.cardPrice}}
                        </td>
                        <td>
                            {{item.purchaseTime | date:'yyyy-MM-dd'}}
                        </td>
                        <td>
                            {{item.userName}}
                        </td>
                        <td>
                            {{item.shop}}
                        </td>

                    </tr>
                </table>
            </div>
        </div>

        <div style="width: 150px;float:left;">
            <div class="left-head-box">
                <table>
                    <tr>
                        <th width="30">
                            <strong>#</strong>
                        </th>
                        <th width="120">
                            <strong>购买人手机号</strong>
                        </th>
                    </tr>
                </table>
            </div>
            <div class="left-body-box">
                <table>
                    <tr ng-repeat="item in pageData.content track by $index">
                        <td>
                            {{$index+1}}
                        </td>
                        <td>
                            {{item.mobile}}
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </table-box>
</div>
